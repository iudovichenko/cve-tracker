{% extends "base.html" %}
{% block title %}Product Packages{% endblock %}
{% block content %}
    <a name="top"></a>
    <ul>
        {% for product_name, _ in index|dictsort %}
        <li>
            <a href="#{{product_name}}">{{product_name}}</a>
        </li>
        {% endfor %}
    </ul>

    {% for product_name, packages in index|dictsort %}
    <a name="{{product_name}}"><h2>{{product_name}}</h2></a>
    <a href="#top">Back to top</a>
    <hr>
    <table>
        <tr>
            {% for letter in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' %}
            <td>
                {% if letter in packages %}
                <a href="#{{product_name}}_{{letter}}">{{letter}}</a>
                {% else %}
                {{letter}}
                {% endif %}
            </td>
            {% endfor %}
        </tr>
    </table>

    {% for letter, product_packages in packages|dictsort %}
    <a name="{{product_name}}_{{letter}}"><h2>{{letter}} ({{product_name}})</h2></a>
    <a href="#top">Back to top</a>
    <a href="#{{product_name}}">Back to product index</a>
    <hr>

    <table>
        <tr>
            <th>Name</th>
            <th>Source Package</th>
            <th>Product Package</th>
            <th>Product</th>
        </tr>
    {% for x in product_packages|sort(attribute='name') %}
        <tr>
            <td><a href="{{root}}/source-project/{{x.source_package.project.id}}.html">{{x.source_package.project.name}}</a></td>
            <td><a href="{{root}}/source-package/{{x.source_package.id}}.html">{{x.source_package.name}}-{{x.source_package.version}}</a></td>
            <td><a href="{{root}}/product-package/{{x.id}}.html">{{x.name}}-{{x.version}}</a></td>
            <td><a href="{{root}}/product/{{x.product.id}}.html">{{x.product}}</a></td>
        </tr>
    {% endfor %}
    </table>

    {% endfor %}

    {% endfor %}
{% endblock %}
